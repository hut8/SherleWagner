

<script>
  // $.ajax({
  //               url: '/products/product.json',
  //               contentType: "application/json",
  //               dataType: "json",
  //               error: function(req, err){ console.log("my message" + err); },  
  //               success: function(data) 
  //               {
  //                   jsonproduct = data
  //                   console.log(data);
  //                   //currentData = $.parseJSON(data);


 
  //               }
  //           });
</script>
  <div class="prod_page_content">

  
    <div class="product_details">
      <h3>
      <%= @product.name%>
      </h3>
        <div class="product_image">
          
      <%= image_tag @product.image.url(:medium) %>
    </div>
      <h4 class="prod-config-number">
      shown: <%= @product.product_configurations.last.number %>
      </h4>
      <h4 class="prod-config-description">
      shown: <%= @product.product_configurations.last.description %>
      </h4>
    </div>
  

    <%= render 'favorites/favorite_button' %>


    <div class="image_list">
      Existing images:
      <ul>
        <% @product.product_configurations_except_first.each do |config| %>
          <li><%= config.number %>
              <%= image_tag config.image.url(:thumb) %> 
        </li>
        <% end %>
      </ul>
    </div>
    <div class="compilations">
      <% if @product.compilations.size > 0 %>
        <p>
        Compilations:
        </p>
        <ul>
          <% @product.compilations.each do |compilation| %>
            <li><%= link_to(compilation.name, compilation_path(compilation))  %>

              <%= image_tag compilation.image.url(:thumb) %> 
            </li>
          <% end %>
        </ul>

      <% end %>
    </div>
    <%= render 'product_info' %>
    <div>Associated collection: <%= link_to @product.associated_collection_or_null.name, style_path(@product.associated_collection_or_null.id) %></div>
    <%= render 'tearsheet_form' %>
  </div>

